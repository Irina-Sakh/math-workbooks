<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ—Ç—Ä–∞–¥—å</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            padding: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #4e54c8;
        }
        
        h1 {
            color: #4e54c8;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }
        
        .motivation {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .day-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .day-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #4e54c8;
            background: white;
            color: #4e54c8;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .day-btn:hover {
            background: #4e54c8;
            color: white;
        }
        
        .day-btn.active {
            background: #4e54c8;
            color: white;
        }
        
        .day-btn.completed {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }
        
        .answers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .answer-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .answer-card:hover {
            border-color: #4e54c8;
            transform: translateY(-5px);
        }
        
        .example {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }
        
        .answer {
            font-size: 1.5rem;
            color: #10b981;
            font-weight: bold;
        }
        
        .stats-form {
            background: #f1f5f9;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .form-title {
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            font-size: 1rem;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #4e54c8;
        }
        
        .mood-selector {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .mood-btn {
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: none;
        }
        
        .mood-btn:hover {
            transform: scale(1.2);
        }
        
        .mood-btn.active {
            transform: scale(1.3);
        }
        
        .save-btn {
            background: linear-gradient(135deg, #4e54c8 0%, #8f94fb 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 20px auto 0;
        }
        
        .save-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(78, 84, 200, 0.4);
        }
        
        .bonus-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .bonus-example {
            font-size: 1.8rem;
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .progress-section {
            margin: 40px 0;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            border-top: 5px solid #4e54c8;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4e54c8;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #718096;
            font-size: 0.9rem;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 25px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th {
            background: #4e54c8;
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        tr:hover {
            background: #f7fafc;
        }
        
        .completed-day {
            color: #10b981;
            font-weight: bold;
        }
        
        .chart-container {
            height: 300px;
            margin: 30px 0;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideIn 0.5s, slideOut 0.5s 2.5s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .answers-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-calculator"></i> –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤</h1>
            <p class="subtitle">–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ—Ç—Ä–∞–¥—å ‚Ä¢ –°—á—ë—Ç –¥–æ 10 ‚Ä¢ 30 –¥–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
        </div>
        
        <div class="motivation" id="motivation-text">
            <!-- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—Ä–∞–∑–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
        </div>
        
        <div class="day-selector" id="day-selector">
            <!-- –ö–Ω–æ–ø–∫–∏ –¥–Ω–µ–π –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
        </div>
        
        <div id="answers-section">
            <h2 class="form-title"><i class="fas fa-list-ol"></i> –û—Ç–≤–µ—Ç—ã –¥–ª—è –î–Ω—è <span id="current-day">1</span></h2>
            <div class="answers-grid" id="answers-grid">
                <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <div class="stats-form">
            <h2 class="form-title"><i class="fas fa-chart-line"></i> –ó–∞–ø–∏—à–∏ —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <div class="form-group">
                <label for="time"><i class="fas fa-clock"></i> –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º–∏–Ω—É—Ç—ã)</label>
                <input type="number" id="time" min="1" max="60" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 15">
            </div>
            
            <div class="form-group">
                <label for="errors"><i class="fas fa-times-circle"></i> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫</label>
                <input type="number" id="errors" min="0" max="30" placeholder="0">
            </div>
            
            <div class="form-group">
                <label><i class="fas fa-smile"></i> –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                <div class="mood-selector">
                    <button class="mood-btn" data-mood="üòä">üòä</button>
                    <button class="mood-btn" data-mood="üòê">üòê</button>
                    <button class="mood-btn" data-mood="üòû">üòû</button>
                </div>
                <input type="hidden" id="mood" value="üòä">
            </div>
            
            <button class="save-btn" id="save-btn">
                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            </button>
        </div>
        
        <div class="bonus-section">
            <h2 class="form-title"><i class="fas fa-gift"></i> –ë–æ–Ω—É—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>
            <p>–†–µ—à–∏ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:</p>
            <div class="bonus-example" id="bonus-example">
                <!-- –ë–æ–Ω—É—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            <div class="form-group">
                <label for="bonus-answer">–¢–≤–æ–π –æ—Ç–≤–µ—Ç:</label>
                <input type="number" id="bonus-answer" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç">
            </div>
            <button class="save-btn" id="check-bonus-btn" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ–Ω—É—Å
            </button>
            <p id="bonus-result" style="text-align: center; margin-top: 15px; font-weight: bold;"></p>
        </div>
        
        <div class="progress-section">
            <h2 class="form-title"><i class="fas fa-trophy"></i> –¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-value" id="completed-days">0</div>
                    <div class="stat-label">–ü—Ä–æ–π–¥–µ–Ω–æ –¥–Ω–µ–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="avg-time">0</div>
                    <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è (–º–∏–Ω)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="accuracy">0%</div>
                    <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —Ç–æ—á–Ω–æ—Å—Ç—å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-errors">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –æ—à–∏–±–æ–∫</div>
                </div>
            </div>
            
            <div class="table-container">
                <table id="progress-table">
                    <thead>
                        <tr>
                            <th>–î–µ–Ω—å</th>
                            <th>–í—Ä–µ–º—è</th>
                            <th>–û—à–∏–±–æ–∫</th>
                            <th>–¢–æ—á–Ω–æ—Å—Ç—å</th>
                            <th>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
            
            <div class="chart-container">
                <canvas id="progress-chart"></canvas>
            </div>
        </div>
    </div>
    
    <div id="notification" class="notification" style="display: none;">
        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
    </div>

    <script>
        // ==================== –î–ê–ù–ù–´–ï ====================
        
        // –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è 30 –¥–Ω–µ–π (–ø–æ 30 –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ –¥–µ–Ω—å)
        const ALL_EXERCISES = {
            1: [
                "3+2=5", "7-4=3", "5+1=6", "9-3=6", "4+4=8", "8-2=6", "1+6=7", "10-5=5", "3+5=8", "6-3=3",
                "4+2=6", "7-1=6", "5+3=8", "9-4=5", "2+5=7", "10-6=4", "2+7=9", "9-2=7", "4+5=9", "8-5=3",
                "1+8=9", "7-3=4", "6+3=9", "9-4=5", "2+6=8", "10-8=2", "5+4=9", "8-6=2", "1+9=10", "10-7=3"
            ],
            2: [
                "5+2=7", "8-3=5", "4+3=7", "7-2=5", "6+2=8", "9-4=5", "3+4=7", "10-6=4", "2+6=8", "8-5=3",
                "1+7=8", "9-3=6", "5+3=8", "10-4=6", "3+5=8", "7-5=2", "4+4=8", "9-6=3", "2+5=7", "8-4=4",
                "6+1=7", "10-7=3", "3+6=9", "9-5=4", "4+2=6", "7-4=3", "5+4=9", "8-7=1", "2+8=10", "10-8=2"
            ],
            3: [
                "4+5=9", "9-5=4", "6+2=8", "8-3=5", "3+6=9", "10-6=4", "5+4=9", "7-4=3", "2+7=9", "9-7=2",
                "4+3=7", "8-6=2", "6+3=9", "10-5=5", "3+5=8", "9-4=5", "5+2=7", "7-5=2", "4+6=10", "10-9=1",
                "3+7=10", "8-5=3", "6+4=10", "9-8=1", "5+5=10", "7-6=1", "2+6=8", "10-3=7", "4+4=8", "8-7=1"
            ],
            4: [
                "2+3=5", "10-2=8", "4+4=8", "9-5=4", "5+1=6", "8-4=4", "3+6=9", "7-3=4", "6+2=8", "10-7=3",
                "1+8=9", "9-6=3", "5+3=8", "8-5=3", "4+5=9", "7-5=2", "3+4=7", "10-8=2", "6+3=9", "9-7=2",
                "2+7=9", "8-6=2", "5+4=9", "10-9=1", "4+6=10", "7-6=1", "3+7=10", "9-8=1", "6+4=10", "8-7=1"
            ],
            5: [
                "5+5=10", "10-4=6", "3+7=10", "9-3=6", "6+4=10", "8-2=6", "4+6=10", "7-1=6", "2+8=10", "10-5=5",
                "1+9=10", "9-4=5", "7+3=10", "8-3=5", "5+4=9", "10-6=4", "3+5=8", "9-5=4", "6+2=8", "7-2=5",
                "4+3=7", "10-7=3", "2+6=8", "8-5=3", "5+3=8", "9-6=3", "3+4=7", "10-8=2", "6+1=7", "7-4=3"
            ],
            6: [
                "6+3=9", "10-1=9", "4+5=9", "9-2=7", "7+2=9", "8-1=7", "3+6=9", "10-3=7", "5+4=9", "7-3=4",
                "2+7=9", "9-4=5", "6+1=7", "10-5=5", "4+3=7", "8-4=4", "3+5=8", "9-6=3", "7+1=8", "10-7=3",
                "5+2=7", "8-5=3", "4+6=10", "9-7=2", "3+7=10", "10-8=2", "6+4=10", "8-6=2", "5+5=10", "7-5=2"
            ],
            7: [
                "8+2=10", "10-9=1", "6+4=10", "9-8=1", "7+3=10", "8-7=1", "5+5=10", "10-6=4", "4+6=10", "9-5=4",
                "3+7=10", "8-4=4", "2+8=10", "10-7=3", "1+9=10", "9-6=3", "6+3=9", "7-4=3", "5+4=9", "10-8=2",
                "4+5=9", "9-7=2", "3+6=9", "8-5=3", "7+2=9", "10-5=5", "2+7=9", "9-4=5", "5+3=8", "7-3=4"
            ],
            8: [
                "4+4=8", "10-10=0", "3+5=8", "9-9=0", "6+2=8", "8-8=0", "5+3=8", "10-2=8", "2+6=8", "9-1=8",
                "1+7=8", "8-6=2", "7+1=8", "10-4=6", "4+6=10", "9-3=6", "3+7=10", "8-2=6", "6+4=10", "10-5=5",
                "5+5=10", "9-4=5", "2+8=10", "8-3=5", "4+5=9", "10-6=4", "3+6=9", "9-5=4", "6+3=9", "7-4=3"
            ],
            9: [
                "7+3=10", "10-1=9", "5+5=10", "9-2=7", "8+2=10", "8-1=7", "6+4=10", "10-3=7", "4+6=10", "7-3=4",
                "3+7=10", "9-4=5", "2+8=10", "10-5=5", "1+9=10", "8-4=4", "5+4=9", "9-6=3", "7+2=9", "10-7=3",
                "6+3=9", "8-5=3", "4+5=9", "9-7=2", "3+6=9", "10-8=2", "2+7=9", "8-6=2", "5+3=8", "7-5=2"
            ],
            10: [
                "6+4=10", "10-9=1", "8+2=10", "9-8=1", "7+3=10", "8-7=1", "5+5=10", "10-6=4", "9+1=10", "9-5=4",
                "4+6=10", "8-4=4", "3+7=10", "10-7=3", "2+8=10", "9-6=3", "1+9=10", "7-4=3", "6+3=9", "10-8=2",
                "5+4=9", "9-7=2", "4+5=9", "8-5=3", "3+6=9", "10-5=5", "2+7=9", "9-4=5", "7+2=9", "7-3=4"
            ]
            // –î–Ω–∏ 11-30 –±—É–¥—É—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ (–¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ –∑–¥–µ—Å—å 10 –¥–Ω–µ–π)
        };
        
        // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
        const MOTIVATIONS = {
            1: "–¢—ã –º–æ–ª–æ–¥–µ—Ü! –ù–∞—á–∞–ª–æ –ø–æ–ª–æ–∂–µ–Ω–æ! üåü",
            2: "–û—Ç–ª–∏—á–Ω–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üí™",
            3: "–¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —Å–∏–ª—å–Ω–µ–µ! üî•",
            4: "–°—É–ø–µ—Ä! –£ —Ç–µ–±—è –≤—Å—ë –ø–æ–ª—É—á–∞–µ—Ç—Å—è! üöÄ",
            5: "–£—Ä–∞! –£–∂–µ –ø—è—Ç—ã–π –¥–µ–Ω—å! üéØ",
            6: "–¢—ã –Ω–∞ –≤–µ—Ä–Ω–æ–º –ø—É—Ç–∏! üëç",
            7: "–ù–µ–¥–µ–ª—è –ø–æ–∑–∞–¥–∏! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! üèÜ",
            8: "–¢—ã - –∑–≤–µ–∑–¥–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏! ‚≠ê",
            9: "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞! –ü—Ä–æ–¥–æ–ª–∂–∞–π! ‚ú®",
            10: "–î–µ—Å—è—Ç—ã–π –¥–µ–Ω—å! –¢—ã —Å—É–ø–µ—Ä! üéâ",
            11: "–ë–æ–ª—å—à–µ —Ç—Ä–µ—Ç–∏ –ø—É—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ! üìà",
            12: "–¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –º–∞—Å—Ç–µ—Ä–æ–º! üëë",
            13: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! ü•á",
            14: "–î–≤–µ –Ω–µ–¥–µ–ª–∏ –ø–æ–∑–∞–¥–∏! –ë—Ä–∞–≤–æ! üëè",
            15: "–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ! üö∂",
            16: "–ë–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã! –í–ø–µ—Ä—ë–¥! üèÉ",
            17: "–¢—ã –ø—Ä–æ—Å—Ç–æ –º–æ–ª–æ–¥–µ—Ü! üòä",
            18: "–£–≤–µ—Ä–µ–Ω–Ω–æ –∏–¥—ë—à—å –∫ —Ü–µ–ª–∏! üéØ",
            19: "–§–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å! üåà",
            20: "–î–≤–∞–¥—Ü–∞—Ç—ã–π –¥–µ–Ω—å! –¢—ã –∫—Ä—É—Ç! ü§©",
            21: "–û—Å—Ç–∞–ª–æ—Å—å —Å–æ–≤—Å–µ–º —á—É—Ç—å-—á—É—Ç—å! üìä",
            22: "–¢—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏! ‚è≥",
            23: "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π! üí´",
            24: "–ï—â—ë –Ω–µ–º–Ω–æ–≥–æ —É—Å–∏–ª–∏–π! üí™",
            25: "–¢—ã —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è –æ—Ç–ª–∏—á–Ω–æ! üåü",
            26: "–§–∏–Ω–∏—à –±–ª–∏–∑–∫–æ! –í–ø–µ—Ä—ë–¥! üèÅ",
            27: "–¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —á–µ–º–ø–∏–æ–Ω! üèÖ",
            28: "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä—ã–≤–æ–∫! üöÄ",
            29: "–ü–æ—á—Ç–∏ —Ñ–∏–Ω–∏—à! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! ‚≠ê",
            30: "–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è! üéä"
        };
        
        // –ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
        const BONUS_EXERCISES = {
            1: "11 + 12 = ?",
            2: "15 - 6 = ?",
            3: "13 + 7 = ?",
            4: "18 - 9 = ?",
            5: "14 + 6 = ?",
            6: "20 - 11 = ?",
            7: "16 + 4 = ?",
            8: "19 - 10 = ?",
            9: "12 + 8 = ?",
            10: "17 - 8 = ?"
            // ... –¥–ª—è –≤—Å–µ—Ö –¥–Ω–µ–π
        };
        
        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
        
        let currentDay = 1;
        let progressData = {};
        let chart = null;
        
        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ–ª—É—á–∞–µ–º –¥–µ–Ω—å –∏–∑ URL
            const urlParams = new URLSearchParams(window.location.search);
            const dayParam = urlParams.get('day');
            
            if (dayParam && dayParam >= 1 && dayParam <= 30) {
                currentDay = parseInt(dayParam);
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
            loadProgress();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
            initDaySelector();
            renderDay(currentDay);
            updateProgressStats();
            renderProgressTable();
            initChart();
            
            // –°–æ–±—ã—Ç–∏—è
            document.getElementById('save-btn').addEventListener('click', saveResults);
            document.getElementById('check-bonus-btn').addEventListener('click', checkBonus);
            
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('mood').value = this.dataset.mood;
                });
            });
            
            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω –ø–µ—Ä–≤—ã–π —Å–º–∞–π–ª–∏–∫
            document.querySelector('.mood-btn').click();
        });
        
        // ==================== –§–£–ù–ö–¶–ò–ò ====================
        
        function loadProgress() {
            const saved = localStorage.getItem('mathNotebookProgress');
            if (saved) {
                progressData = JSON.parse(saved);
            }
        }
        
        function saveProgress() {
            localStorage.setItem('mathNotebookProgress', JSON.stringify(progressData));
        }
        
        function initDaySelector() {
            const container = document.getElementById('day-selector');
            container.innerHTML = '';
            
            for (let day = 1; day <= 30; day++) {
                const btn = document.createElement('button');
                btn.className = 'day-btn';
                btn.textContent = day;
                btn.dataset.day = day;
                
                if (day === currentDay) {
                    btn.classList.add('active');
                }
                
                if (progressData[day]) {
                    btn.classList.add('completed');
                }
                
                btn.addEventListener('click', function() {
                    currentDay = parseInt(this.dataset.day);
                    renderDay(currentDay);
                    updateDaySelector();
                });
                
                container.appendChild(btn);
            }
        }
        
        function updateDaySelector() {
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.day) === currentDay) {
                    btn.classList.add('active');
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å completion
                if (progressData[parseInt(btn.dataset.day)]) {
                    btn.classList.add('completed');
                } else {
                    btn.classList.remove('completed');
                }
            });
        }
        
        function renderDay(day) {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
            document.getElementById('current-day').textContent = day;
            
            // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—Ä–∞–∑–∞
            document.getElementById('motivation-text').textContent = MOTIVATIONS[day] || "–¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è!";
            
            // –û—Ç–≤–µ—Ç—ã
            const answersGrid = document.getElementById('answers-grid');
            answersGrid.innerHTML = '';
            
            const exercises = ALL_EXERCISES[day] || generateExercises(day);
            
            exercises.forEach((exercise, index) => {
                const [problem, answer] = exercise.split('=');
                const card = document.createElement('div');
                card.className = 'answer-card';
                card.innerHTML = `
                    <div class="example">${problem} = ?</div>
                    <div class="answer">${answer}</div>
                    <div style="font-size: 0.9rem; color: #718096; margin-top: 5px;">‚Ññ ${index + 1}</div>
                `;
                answersGrid.appendChild(card);
            });
            
            // –ë–æ–Ω—É—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
            document.getElementById('bonus-example').textContent = BONUS_EXERCISES[day] || "15 + 15 = ?";
            document.getElementById('bonus-result').textContent = '';
            document.getElementById('bonus-answer').value = '';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è
            const dayData = progressData[day];
            if (dayData) {
                document.getElementById('time').value = dayData.time || '';
                document.getElementById('errors').value = dayData.errors || '';
                document.getElementById('mood').value = dayData.mood || 'üòä';
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–º–∞–π–ª–∏–∫
                document.querySelectorAll('.mood-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.mood === dayData.mood) {
                        btn.classList.add('active');
                    }
                });
            } else {
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
                document.getElementById('time').value = '';
                document.getElementById('errors').value = '';
                document.getElementById('mood').value = 'üòä';
                document.querySelector('.mood-btn').click();
            }
        }
        
        function saveResults() {
            const time = document.getElementById('time').value;
            const errors = document.getElementById('errors').value;
            const mood = document.getElementById('mood').value;
            
            if (!time || time < 1) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!', 'error');
                return;
            }
            
            if (errors === '' || errors < 0) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫!', 'error');
                return;
            }
            
            const totalExercises = 30;
            const correct = totalExercises - errors;
            const accuracy = Math.round((correct / totalExercises) * 100);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            progressData[currentDay] = {
                time: parseInt(time),
                errors: parseInt(errors),
                accuracy: accuracy,
                mood: mood,
                completed: true,
                date: new Date().toISOString()
            };
            
            saveProgress();
            
            showNotification('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
            updateProgressStats();
            renderProgressTable();
            updateDaySelector();
            updateChart();
        }
        
        function checkBonus() {
            const answer = document.getElementById('bonus-answer').value;
            const bonusResult = document.getElementById('bonus-result');
            
            if (!answer) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –Ω–∞ –±–æ–Ω—É—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ!', 'error');
                return;
            }
            
            // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–æ–∂–Ω–µ–µ)
            const day = currentDay;
            let correctAnswer = 0;
            
            switch(day) {
                case 1: correctAnswer = 23; break;
                case 2: correctAnswer = 9; break;
                case 3: correctAnswer = 20; break;
                case 4: correctAnswer = 9; break;
                case 5: correctAnswer = 20; break;
                case 6: correctAnswer = 9; break;
                case 7: correctAnswer = 20; break;
                case 8: correctAnswer = 9; break;
                case 9: correctAnswer = 20; break;
                case 10: correctAnswer = 9; break;
                default: correctAnswer = day * 2; // –ü—Ä–∏–º–µ—Ä
            }
            
            if (parseInt(answer) === correctAnswer) {
                bonusResult.textContent = '‚úÖ –í–µ—Ä–Ω–æ! +5 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É!';
                bonusResult.style.color = '#10b981';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –±–∞–ª–ª—ã
                if (!progressData[currentDay].bonus) {
                    progressData[currentDay].bonus = true;
                    progressData[currentDay].bonusPoints = 5;
                    saveProgress();
                    updateProgressStats();
                }
            } else {
                bonusResult.textContent = `‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswer}. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë!`;
                bonusResult.style.color = '#ef4444';
            }
        }
        
        function updateProgressStats() {
            const completedDays = Object.keys(progressData).length;
            const totalTime = Object.values(progressData).reduce((sum, day) => sum + (day.time || 0), 0);
            const totalErrors = Object.values(progressData).reduce((sum, day) => sum + (day.errors || 0), 0);
            const totalExercises = completedDays * 30;
            const correctExercises = totalExercises - totalErrors;
            const avgAccuracy = totalExercises > 0 ? Math.round((correctExercises / totalExercises) * 100) : 0;
            const avgTime = completedDays > 0 ? Math.round(totalTime / completedDays) : 0;
            
            document.getElementById('completed-days').textContent = completedDays;
            document.getElementById('avg-time').textContent = avgTime;
            document.getElementById('accuracy').textContent = avgAccuracy + '%';
            document.getElementById('total-errors').textContent = totalErrors;
        }
        
        function renderProgressTable() {
            const tbody = document.getElementById('table-body');
            tbody.innerHTML = '';
            
            for (let day = 1; day <= 30; day++) {
                const dayData = progressData[day];
                const row = document.createElement('tr');
                
                if (dayData) {
                    row.innerHTML = `
                        <td class="completed-day">–î–µ–Ω—å ${day} ‚úÖ</td>
                        <td>${dayData.time} –º–∏–Ω</td>
                        <td>${dayData.errors}</td>
                        <td>${dayData.accuracy}%</td>
                        <td style="font-size: 1.5rem;">${dayData.mood}</td>
                        <td><span style="color: #10b981;">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span></td>
                    `;
                } else {
                    row.innerHTML = `
                        <td>–î–µ–Ω—å ${day}</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td><span style="color: #94a3b8;">–ù–µ –Ω–∞—á–∞—Ç</span></td>
                    `;
                }
                
                tbody.appendChild(row);
            }
        }
        
        function initChart() {
            const ctx = document.getElementById('progress-chart').getContext('2d');
            
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 30}, (_, i) => `–î–µ–Ω—å ${i + 1}`),
                    datasets: [
                        {
                            label: '–¢–æ—á–Ω–æ—Å—Ç—å (%)',
                            data: Array(30).fill(0),
                            borderColor: '#4e54c8',
                            backgroundColor: 'rgba(78, 84, 200, 0.1)',
                            tension: 0.3,
                            fill: true
                        },
                        {
                            label: '–í—Ä–µ–º—è (–º–∏–Ω)',
                            data: Array(30).fill(0),
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.3,
                            fill: false,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: '–¢–æ—á–Ω–æ—Å—Ç—å (%)'
                            }
                        },
                        y1: {
                            beginAtZero: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: '–í—Ä–µ–º—è (–º–∏–Ω)'
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
            
            updateChart();
        }
        
        function updateChart() {
            if (!chart) return;
            
            const accuracyData = [];
            const timeData = [];
            
            for (let day = 1; day <= 30; day++) {
                const dayData = progressData[day];
                accuracyData.push(dayData ? dayData.accuracy : 0);
                timeData.push(dayData ? dayData.time : 0);
            }
            
            chart.data.datasets[0].data = accuracyData;
            chart.data.datasets[1].data = timeData;
            chart.update();
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.background = type === 'success' ? '#10b981' : 
                                          type === 'error' ? '#ef4444' : '#4e54c8';
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        function generateExercises(day) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –¥–Ω–µ–π 11-30, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç –≤ ALL_EXERCISES
            const exercises = [];
            const used = new Set();
            
            for (let i = 0; i < 30; i++) {
                let a, b, op, result;
                
                // –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
                if (day <= 15) {
                    // –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–æ 10
                    a = Math.floor(Math.random() * 10) + 1;
                    b = Math.floor(Math.random() * 10) + 1;
                    op = Math.random() > 0.5 ? '+' : '-';
                    
                    if (op === '+') {
                        result = a + b;
                        if (result > 10) {
                            result = a + b - Math.floor(Math.random() * 3);
                        }
                    } else {
                        result = Math.abs(a - b);
                        if (result === 0) result = 1;
                    }
                } else {
                    // –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
                    a = Math.floor(Math.random() * 10) + 1;
                    b = Math.floor(Math.random() * 10) + 1;
                    op = Math.random() > 0.5 ? '+' : '-';
                    
                    if (op === '+') {
                        result = a + b;
                        if (result > 15) result = 10 + Math.floor(Math.random() * 5);
                    } else {
                        result = Math.abs(a - b);
                        if (result === 0) result = Math.floor(Math.random() * 5) + 1;
                    }
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ—Ä –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª—Å—è
                const key = `${a}${op}${b}`;
                if (!used.has(key) && result <= 15 && result > 0) {
                    used.add(key);
                    exercises.push(`${a}${op}${b}=${result}`);
                } else {
                    i--; // –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø–æ–ø—ã—Ç–∫—É
                }
            }
            
            return exercises;
        }
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –¥–Ω–µ–π 11-30
        for (let day = 11; day <= 30; day++) {
            if (!ALL_EXERCISES[day]) {
                ALL_EXERCISES[day] = generateExercises(day);
            }
        }
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –¥–Ω–µ–π 11-30
        for (let day = 11; day <= 30; day++) {
            if (!BONUS_EXERCISES[day]) {
                const a = 10 + day;
                const b = Math.floor(Math.random() * 10) + 1;
                const op = Math.random() > 0.5 ? '+' : '-';
                BONUS_EXERCISES[day] = `${a} ${op} ${b} = ?`;
            }
        }
    </script>
</body>
</html>